'use strict';

  (function(exports) {
    function MockMemProfiler(option) {
      this.status = 'init';
      this.init();
    }

    MockMemProfiler.prototype = {
      startProfiler: function MP_startProfiler(window) {
        if (this.status === 'profiling') {
          return;
        }
        this.status = 'profiling';
        // this.dispatchEvent('startprofiling');
        console.log('startProfiler...');
      },

      stopProfiler: function MP_stopProfiler(window) {
        if (this.status === 'idle') {
          return;
        }
        this.status = 'idle';
        // this.dispatchEvent('stopprofiling');
        console.log('stopProfiler...');
      },

      getFrameNameTable: function MP_getFrameNameTable(window){
        var FrameNameTable = ["(native)","BrowserElementChild.prototype._selectionChangeHandler @ chrome://global/content/BrowserElementChildPreload.js: 628","BrowserElementChild.prototype._isCommandEnabled @ chrome://global/content/BrowserElementChildPreload.js: 377","tv_playAlbum @ app://music.gaiamobile.org/js/music.js: 1000","ModeManager.push @ app://music.gaiamobile.org/js/music.js: 513","ModeManager._updateMode @ app://music.gaiamobile.org/js/music.js: 582","LazyLoader.prototype.load @ app://music.gaiamobile.org/shared/js/lazy_loader.js: 96","perFileCallback @ app://music.gaiamobile.org/shared/js/lazy_loader.js: 102","ModeManager._updateMode/< @ app://music.gaiamobile.org/js/music.js: 593","ModeManager.enableNFCSharing @ app://music.gaiamobile.org/js/music.js: 658","mozNfc.prototype.onpeerready @ jar:file:///system/b2g/omni.ja!/components/nsNfc.js: 214","mozNfc.prototype.eventListenerWasAdded @ jar:file:///system/b2g/omni.ja!/components/nsNfc.js: 227","enumerate/cursorRequest.onsuccess @ app://music.gaiamobile.org/shared/js/mediadb.js: 1150","enumerateAll/MediaDB< @ app://music.gaiamobile.org/shared/js/mediadb.js: 1279","tv_enumerateAll @ app://music.gaiamobile.org/js/music.js: 1013","pv_play @ app://music.gaiamobile.org/js/Player.js: 528","PlayerView._sendInterpageMessage @ app://music.gaiamobile.org/js/Player.js: 517","onMutations @ app://music.gaiamobile.org/shared/js/l10n.js: 1630","localizeMutations @ app://music.gaiamobile.org/shared/js/l10n.js: 1601","translateElement @ app://music.gaiamobile.org/shared/js/l10n.js: 1720","getL10nAttributes @ app://music.gaiamobile.org/shared/js/l10n.js: 1693","getFile/getRequest.onsuccess @ app://music.gaiamobile.org/shared/js/mediadb.js: 946","pv_play/</< @ app://music.gaiamobile.org/js/Player.js: 545","pv_setAudioSrc @ app://music.gaiamobile.org/js/Player.js: 359","PlayerView.audio @ app://music.gaiamobile.org/js/Player.js: 35","pv_handleEvent @ app://music.gaiamobile.org/js/Player.js: 882","pv_updateRemoteMetadata @ app://music.gaiamobile.org/js/Player.js: 390","pv_updateSeekBar @ app://music.gaiamobile.org/js/Player.js: 710","pv_seekAudio @ app://music.gaiamobile.org/js/Player.js: 725","isNaN @ self-hosted: 2573","isNaN @ self-hosted: 2556","pv_setSeekBar @ app://music.gaiamobile.org/js/Player.js: 749","formatTime @ app://music.gaiamobile.org/js/utils.js: 3","pv_next @ app://music.gaiamobile.org/js/Player.js: 603","pv_getSongData @ app://music.gaiamobile.org/js/Player.js: 459","pv_play/< @ app://music.gaiamobile.org/js/Player.js: 534","pv_setInfo @ app://music.gaiamobile.org/js/Player.js: 202","pv_setCoverImage @ app://music.gaiamobile.org/js/Player.js: 237","getThumbnailURL @ app://music.gaiamobile.org/js/metadata_scripts.js: 1312","MusicComms.notifyMetadataChanged @ app://music.gaiamobile.org/js/communications.js: 162","MediaRemoteControls.prototype.notifyMetadataChanged @ app://music.gaiamobile.org/shared/js/media/remote_controls.js: 399","MediaRemoteControls.prototype._postMessage @ app://music.gaiamobile.org/shared/js/media/remote_controls.js: 293","forEach @ self-hosted: 242","MediaRemoteControls.prototype._postMessage/< @ app://music.gaiamobile.org/shared/js/media/remote_controls.js: 299","pv_handleEvent/this.endedTimer< @ app://music.gaiamobile.org/js/Player.js: 1020","pv_updateRemotePlayStatus @ app://music.gaiamobile.org/js/Player.js: 432","MusicComms.notifyStatusChanged @ app://music.gaiamobile.org/js/communications.js: 167","MediaRemoteControls.prototype.notifyStatusChanged @ app://music.gaiamobile.org/shared/js/media/remote_controls.js: 418","InterAppMessagePort.prototype.postMessage @ jar:file:///system/b2g/omni.ja!/components/InterAppMessagePort.js: 99","ChildDebuggerTransport.prototype.receiveMessage @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/transport/transport.js: 707","DSC_onPacket @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/main.js: 1378","WCA_onAutocomplete @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/actors/webconsole.js: 801","makeInfallible/< @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/DevToolsUtils.js: 81","JSPropertyProvider @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/toolkit/webconsole/utils.js: 850","DebuggerServerConnection.prototype._getOrCreateActor @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/main.js: 1239","DSC_getActor @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/main.js: 1226","DSC_actorPool @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/main.js: 1267","WCA_onEvaluateJS @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/actors/webconsole.js: 738","WCA_evalWithDebugger @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/actors/webconsole.js: 1024","WCA__getJSTermHelpers @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/actors/webconsole.js: 923","maybeExport @ resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/actors/webconsole.js: 937"];

        return FrameNameTable;
      },

      getStacktraceTable: function MP_getStacktraceTable(window){
        var traceTable = [{"nameIdx":0,"parentIdx":0},{"nameIdx":1,"parentIdx":0},{"nameIdx":2,"parentIdx":1},{"nameIdx":3,"parentIdx":0},{"nameIdx":4,"parentIdx":3},{"nameIdx":5,"parentIdx":4},{"nameIdx":6,"parentIdx":5},{"nameIdx":7,"parentIdx":0},{"nameIdx":8,"parentIdx":7},{"nameIdx":9,"parentIdx":8},{"nameIdx":10,"parentIdx":9},{"nameIdx":11,"parentIdx":10},{"nameIdx":12,"parentIdx":0},{"nameIdx":13,"parentIdx":12},{"nameIdx":14,"parentIdx":13},{"nameIdx":15,"parentIdx":14},{"nameIdx":16,"parentIdx":15},{"nameIdx":17,"parentIdx":0},{"nameIdx":18,"parentIdx":17},{"nameIdx":19,"parentIdx":18},{"nameIdx":20,"parentIdx":19},{"nameIdx":21,"parentIdx":0},{"nameIdx":22,"parentIdx":21},{"nameIdx":23,"parentIdx":22},{"nameIdx":24,"parentIdx":23},{"nameIdx":25,"parentIdx":0},{"nameIdx":26,"parentIdx":25},{"nameIdx":24,"parentIdx":26},{"nameIdx":27,"parentIdx":25},{"nameIdx":28,"parentIdx":28},{"nameIdx":29,"parentIdx":29},{"nameIdx":30,"parentIdx":30},{"nameIdx":31,"parentIdx":29},{"nameIdx":32,"parentIdx":32},{"nameIdx":33,"parentIdx":25},{"nameIdx":15,"parentIdx":34},{"nameIdx":34,"parentIdx":35},{"nameIdx":35,"parentIdx":36},{"nameIdx":36,"parentIdx":37},{"nameIdx":37,"parentIdx":38},{"nameIdx":38,"parentIdx":39},{"nameIdx":24,"parentIdx":29},{"nameIdx":39,"parentIdx":26},{"nameIdx":40,"parentIdx":42},{"nameIdx":41,"parentIdx":43},{"nameIdx":42,"parentIdx":44},{"nameIdx":43,"parentIdx":45},{"nameIdx":44,"parentIdx":0},{"nameIdx":33,"parentIdx":47},{"nameIdx":15,"parentIdx":48},{"nameIdx":16,"parentIdx":49},{"nameIdx":24,"parentIdx":25},{"nameIdx":45,"parentIdx":25},{"nameIdx":46,"parentIdx":52},{"nameIdx":47,"parentIdx":53},{"nameIdx":41,"parentIdx":54},{"nameIdx":42,"parentIdx":55},{"nameIdx":43,"parentIdx":56},{"nameIdx":48,"parentIdx":57},{"nameIdx":16,"parentIdx":35},{"nameIdx":24,"parentIdx":52},{"nameIdx":31,"parentIdx":23},{"nameIdx":29,"parentIdx":33},{"nameIdx":30,"parentIdx":62},{"nameIdx":49,"parentIdx":0},{"nameIdx":50,"parentIdx":64},{"nameIdx":51,"parentIdx":65},{"nameIdx":52,"parentIdx":66},{"nameIdx":53,"parentIdx":67},{"nameIdx":54,"parentIdx":65},{"nameIdx":55,"parentIdx":69},{"nameIdx":56,"parentIdx":70},{"nameIdx":57,"parentIdx":65},{"nameIdx":58,"parentIdx":72},{"nameIdx":59,"parentIdx":73},{"nameIdx":60,"parentIdx":74}];
        
        return traceTable;
      },

      getAllocatedEntries: function MP_getAllocatedEntries(window){
        var allocatedEntries = [{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":0},{"size":4096,"traceIdx":2},{"size":4096,"traceIdx":6},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":11},{"size":4096,"traceIdx":12},{"size":4096,"traceIdx":12},{"size":4096,"traceIdx":12},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":12},{"size":4096,"traceIdx":16},{"size":4096,"traceIdx":20},{"size":4096,"traceIdx":24},{"size":4096,"traceIdx":27},{"size":4096,"traceIdx":31},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":40},{"size":4096,"traceIdx":24},{"size":4096,"traceIdx":25},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":25},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":0},{"size":-4096,"traceIdx":25},{"size":-4096,"traceIdx":11},{"size":-4096,"traceIdx":25},{"size":-4096,"traceIdx":27},{"size":-4096,"traceIdx":12},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":40},{"size":-4096,"traceIdx":2},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":31},{"size":-4096,"traceIdx":24},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":12},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":20},{"size":-4096,"traceIdx":16},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":6},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":33},{"size":4096,"traceIdx":32},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":46},{"size":4096,"traceIdx":50},{"size":4096,"traceIdx":18},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":23},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":32},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":51},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":32},{"size":4096,"traceIdx":27},{"size":4096,"traceIdx":18},{"size":4096,"traceIdx":27},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":18},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":18},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":27},{"size":4096,"traceIdx":51},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":27},{"size":4096,"traceIdx":25},{"size":4096,"traceIdx":25},{"size":4096,"traceIdx":58},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":-4096,"traceIdx":18},{"size":-4096,"traceIdx":32},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":23},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":32},{"size":-4096,"traceIdx":27},{"size":-4096,"traceIdx":25},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":51},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":27},{"size":-4096,"traceIdx":32},{"size":-4096,"traceIdx":18},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":25},{"size":-4096,"traceIdx":46},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":27},{"size":-4096,"traceIdx":51},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":18},{"size":-4096,"traceIdx":58},{"size":-4096,"traceIdx":18},{"size":-4096,"traceIdx":50},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":27},{"size":4096,"traceIdx":25},{"size":4096,"traceIdx":59},{"size":4096,"traceIdx":18},{"size":4096,"traceIdx":51},{"size":4096,"traceIdx":60},{"size":4096,"traceIdx":18},{"size":4096,"traceIdx":32},{"size":4096,"traceIdx":32},{"size":4096,"traceIdx":25},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":18},{"size":4096,"traceIdx":18},{"size":4096,"traceIdx":61},{"size":4096,"traceIdx":25},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":0},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":18},{"size":-4096,"traceIdx":59},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":32},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":18},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":18},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":32},{"size":-4096,"traceIdx":60},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":25},{"size":-4096,"traceIdx":25},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":18},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":25},{"size":-4096,"traceIdx":41},{"size":-4096,"traceIdx":0},{"size":-4096,"traceIdx":61},{"size":-4096,"traceIdx":33},{"size":-4096,"traceIdx":51},{"size":4096,"traceIdx":32},{"size":4096,"traceIdx":63},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":18},{"size":4096,"traceIdx":59},{"size":4096,"traceIdx":18},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":58},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":33},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":32},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":51},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":32},{"size":4096,"traceIdx":0},{"size":4096,"traceIdx":51},{"size":4096,"traceIdx":65},{"size":4096,"traceIdx":68},{"size":4096,"traceIdx":41},{"size":4096,"traceIdx":71},{"size":4096,"traceIdx":51},{"size":4096,"traceIdx":74},{"size":4096,"traceIdx":75}];

        return allocatedEntries;
      },

      // dispatchEvent: function MP_dispatchEvent(name, detail) {
      //   var evt = new CustomEvent(name, { 'detail': detail});
      //   window.dispatchEvent(evt);
      // },

      init: function MP_init(){
        this.status = 'idle';
        console.log('init.....');
      },

      stop: function MP_stop(){
        this.status = 'init';
        console.log('stop.....');
      }
    };

    exports.MockMemProfiler = MockMemProfiler;
  }(window));
